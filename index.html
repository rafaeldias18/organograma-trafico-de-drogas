<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organograma Edit√°vel - Pol√≠cia Militar de Gr√£o-Par√°</title>
    <link rel="stylesheet" href="styles_editavel.css">
</head>
<body>
    <div class="container">
        <header class="police-header">
            <div class="header-content">
                <div class="police-badge">
                    <img src="images/logopmsc.png" alt="Logo PM-SC" class="logo-pmsc">
                    <div class="badge-text">
                        <h1>POL√çCIA MILITAR</h1>
                        <p>Gr√£o-Par√° - SC</p>
                    </div>
                </div>
                <div class="header-title">
                    <h2>Organograma de Investiga√ß√£o</h2>
                    <p>Tr√°fico de Drogas</p>
                </div>
            </div>
        </header>
        
        <div class="controls-panel">
            <div class="control-group">
                <button id="addIndividual" class="btn btn-primary">
                    <span class="btn-icon">‚ûï</span>
                    Adicionar Indiv√≠duo
                </button>
                <button id="exportData" class="btn btn-secondary">
                    <span class="btn-icon">üíæ</span>
                    Exportar Dados
                </button>
                <button id="importData" class="btn btn-secondary">
                    <span class="btn-icon">üìÅ</span>
                    Importar Dados
                </button>
            </div>
            
            <div class="control-group">
                <select id="filterStatus" class="filter-select">
                    <option value="todos">Todos os Status</option>
                    <option value="ativo">Ativo</option>
                    <option value="preso">Preso</option>
                    <option value="tornozeleira">Tornozeleira</option>
                </select>
                <input type="text" id="searchInput" class="search-input" placeholder="Buscar por nome ou CPF...">
            </div>
        </div>
        
        <div id="organograma-container" class="organograma-grid">
            <!-- Os cards dos indiv√≠duos ser√£o renderizados aqui -->
        </div>
        
        <!-- Modal para edi√ß√£o detalhada -->
        <div id="edit-modal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Editar Informa√ß√µes</h3>
                    <button id="close-edit-modal" class="close-btn">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="edit-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-nome">Nome Completo:</label>
                                <input type="text" id="edit-nome" name="nome" required>
                            </div>
                            <div class="form-group">
                                <label for="edit-cpf">CPF:</label>
                                <input type="text" id="edit-cpf" name="cpf" placeholder="000.000.000-00">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="edit-dataNascimento">Data de Nascimento:</label>
                                <input type="date" id="edit-dataNascimento" name="dataNascimento">
                            </div>
                            <div class="form-group">
                                <label for="edit-status">Status:</label>
                                <select id="edit-status" name="status">
                                    <option value="ativo">Ativo</option>
                                    <option value="preso">Preso</option>
                                    <option value="tornozeleira">Tornozeleira</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-ligacoes">Liga√ß√µes (uma por linha, formato: Nome - Tipo):</label>
                            <textarea id="edit-ligacoes" name="ligacoes" rows="4" placeholder="Jo√£o Silva - Fornecedor&#10;Maria Santos - Comparsa"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-outrasInformacoes">Outras Informa√ß√µes:</label>
                            <textarea id="edit-outrasInformacoes" name="outrasInformacoes" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="edit-foto">Foto (URL ou nome do arquivo):</label>
                            <input type="text" id="edit-foto" name="foto" placeholder="images/nome_arquivo.jpg">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="save-changes" class="btn btn-primary">Salvar Altera√ß√µes</button>
                    <button type="button" id="delete-individual" class="btn btn-danger">Excluir Indiv√≠duo</button>
                    <button type="button" id="cancel-edit" class="btn btn-secondary">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Modal para visualiza√ß√£o de detalhes -->
        <div id="details-modal" class="modal hidden">
            <div class="modal-content details-modal-content">
                <div class="modal-header">
                    <h3 id="details-nome">Nome do Indiv√≠duo</h3>
                    <button id="close-details-modal" class="close-btn">&times;</button>
                </div>
                <div class="modal-body details-body">
                    <div class="details-photo-section">
                        <img id="details-foto" src="" alt="Foto do indiv√≠duo" class="details-photo">
                    </div>
                    <div class="details-info-section">
                        <div class="info-item">
                            <strong>CPF:</strong>
                            <span id="details-cpf"></span>
                        </div>
                        <div class="info-item">
                            <strong>Idade:</strong>
                            <span id="details-idade"></span> anos
                        </div>
                        <div class="info-item">
                            <strong>Status:</strong>
                            <span id="details-status" class="status-badge"></span>
                        </div>
                        <div class="info-item">
                            <strong>Liga√ß√µes:</strong>
                            <div id="details-ligacoes" class="ligacoes-list"></div>
                        </div>
                        <div class="info-item">
                            <strong>Outras Informa√ß√µes:</strong>
                            <p id="details-outras-info"></p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="edit-from-details" class="btn btn-primary">Editar</button>
                    <button type="button" id="close-details" class="btn btn-secondary">Fechar</button>
                </div>
            </div>
        </div>
        
        <!-- Input oculto para importa√ß√£o de arquivos -->
        <input type="file" id="file-input" accept=".json" style="display: none;">
    </div>

    <script src="data_editavel.js?v=20250616_1236"></script>
    <script src="script_editavel.js?v=20250616_1236"></script>
</body>
</html>

